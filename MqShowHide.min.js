/* https://github.com/simonsmith/MooTools-MqShowHide */
(function(d,a,b){"undefined"!==typeof module?module.exports=b(d,a):"function"===typeof define&&"object"===typeof define.amd?define(b):a[d]=b(d,a)})("MqShowHide",this,function(d,a){var b;if(!(b=a.matchMedia))if(!(b=Modernizr.mq)){var i,e=document.documentElement,j=e.firstElementChild||e.firstChild,f=document.createElement("body"),c=document.createElement("div");c.id="mq-test-1";c.style.cssText="position:absolute;top:-100em";f.style.background="none!important";f.appendChild(c);b=function(g){c.innerHTML=
'&shy;<style media="'+g+'"> #mq-test-1 { width: 42px; }</style>';e.insertBefore(f,j);i=42==c.offsetWidth;e.removeChild(f);return{matches:i,media:g}}}var k=b,h=1;return new Class({Implements:[Options,Events],options:{trigger:{type:"button",text:"Show",altText:"Hide",injectPos:"bottom",attr:{type:"button","class":"show-hide-btn"}},wrapper:{type:"div",attr:{"class":"show-hide-container"}}},initialize:function(g,b,a){this.setOptions(a);var a=Object.clone(this.options.wrapper),c=Object.clone(this.options.trigger);
this.container=document.getElement(g);this.targetElems=document.getElements(b);this.wrapper=(new Element(a.type,a.attr)).addClass(a.attr["class"]+h);this.trigger=(new Element(c.type,c.attr)).addClass(c.attr["class"]+h).hide();this.injectElems();this.trigger.addEvent("click",function(a){this.wrapper.isDisplayed()?this.hide():this.show();this.fireEvent("click",a);a.preventDefault()}.bind(this));h++},mq:function(a){a=k(a);a.matches?(this.hide(),this.fireEvent("matched",[a])):(this.reset(),this.fireEvent("notMatched",
[a]));return this},reset:function(){this.trigger.hide();this.wrapper.show();this.fireEvent("reset");return this},show:function(){this.wrapper.show();this.trigger.set("text",this.options.trigger.altText);this.trigger.isDisplayed()||this.trigger.show();this.fireEvent("show");return this},hide:function(){this.wrapper.hide();this.trigger.set("text",this.options.trigger.text);this.trigger.isDisplayed()||this.trigger.show();this.fireEvent("hide");return this},injectElems:function(){this.wrapper.adopt(this.targetElems);
this.container.grab(this.wrapper).grab(this.trigger,this.options.trigger.injectPos)}.protect()})});
